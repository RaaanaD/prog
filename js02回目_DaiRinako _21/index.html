<!DOCTYPE html>
<head>
    <meta charset="UTF-8">
    <title>Todolist</title>
    <script src="js/jquery-2.1.3.min.js"></script>
    <link rel="stylesheet" href="css/style.css">
    <title>Document</title>
</head>
<body>
<header>
<h1>〜何でも〜To do list ✌︎
</h1>
</header>
<main>

    <!-- <dl class="form_inner">
        <dt class="dai" >◆ToDo重要度</dt>
            <dd class="sentaku" id="zyuyo">
            <label for="height" class="form_label"><input type="radio" name="btn" id="height" value="高い">★高い</label>
            <label for="chu" class="form_label"><input type="radio" name="btn" id="chu" value="中">中</label>
            <label for="low" class="form_label"><input type="radio" name="btn" id="low" value="その他">低い</label>
            </dd>
    </dl> -->
    
    <dl class="form_inner">
        <dt class="dai">◆ToDo重要度</dt>
        <dd class="sentaku"><select name="text" id="zyuyo" class="sentaku" >         
            <option value="★高い">★高い</option>
            <option value="中">中</option>
            <option value="低い">低い</option>
        </select></dd>
    </dl>

    <dl class="form_inner">
        <p>◆いつまでに実施すべきか日時選択</p>
        <input type="date" id="date">
    </dl>    

    <dl class="form_inner">
        <dt class="dai">◆ToDo大分類選択</dt>
            <dd class="sentaku">
            <label for="job" class="form_label"><input type="radio" name="btn" id="job" value="仕事">仕事</label>
            <label for="house" class="form_label"><input type="radio" name="btn" id="house" value="家事">家事</label>
            <label for="other" class="form_label"><input type="radio" name="btn" id="other" value="その他">その他</label>
            </dd>
    </dl>

    <!-- <dl class="form_inner">
        <dt class="dai">■大分類選択</dt>
        <dd class="sentaku"><select name="text" id="key" class="sentaku" >         
            <option value="家事">家事</option>
            <option value="仕事">仕事</option>
            <option value="その他">その他</option>
        </select></dd>
    </dl> -->

    <!-- <input type="text" id="key"> -->
    <dl class="form_inner">
    <p>◆ToDo内容詳細、記載↓</p>
        <textarea id="memo" cols="30" rows="10"></textarea>
    </dl>   
    <ul>
        <li id ="save">保存</li>
        <li id ="save2">保存</li>
        <li id ="save3">保存</li>
        <li id="clear">取り消し</li>
        <!-- <li id="narabi">並び替え</li> -->
    </ul>
</main>


<table id="list">
    <h5>■仕事ToDoリスト</h5>
    <div class="a">
        <p class="b">【重要度】</p>
        <p class="c">【〆期限日】</p>
        <p class="d">【ToDo内容】</p>
    </div>

</table>

<table id="list2">
    <h5>■家事ToDoリスト</h5>
    <div class="a">
        <p class="b">【重要度】</p>
        <p class="c">【〆期限日】</p>
        <p class="d">【ToDo内容】</p>
    </div>
</table>
   
<table id="list3">
    <h5>■その他ToDoリスト</h5>
    <div class="a">
        <p class="b">【重要度】</p>
        <p class="c">【〆期限日】</p>
        <p class="d">【ToDo内容】</p>
    </div>
</table>


<script>

    $(function() {
    $('[name="btn"]:radio').change( function() {
        if($('[id=job]').prop('checked')){
        $('[id=save2]').hide();
        $('[id=save3]').hide();
        $('[id=save]').show();
        } else if ($('[id=house]').prop('checked')) {
        $('[id=save]').hide();
        $('[id=save3]').hide();
        $('[id=save2]').show();
        } else {
        $('[id=save]').hide();
        $('[id=save2]').hide();
        $('[id=save3]').show();           
        }
    });
    });

    $("#save").on('click' ,function(){
        const zyuyo = $("#zyuyo").val();
        const date = $("#date").val();
        const value = $("#memo").val();
     
        let datalist = [{
            data: zyuyo,
            data2: date,
            data3: value,

        }];

    	
        localStorage.setItem("datalist", JSON.stringify(datalist));

        const html = `
        <tr>
            <th>${zyuyo}</th>
            <th>${date}</th>
            <td>${value}</td>
        </tr>
        `
        $("#list").append(html);

            // $("#date").val("");
            // $("#key").val("");
            // $("#memo").val("");

    }); 


    $("#save2").on('click' ,function(){
        const zyuyo = $("#zyuyo").val();
        const date = $("#date").val();
        const value = $("#memo").val();
     
        let datalist = [{
            data: zyuyo,
            data2: date,
            data3: value,

        }];

    	
        localStorage.setItem("datalist", JSON.stringify(datalist));

        const html = `
        <tr>
            <th>${zyuyo}</th>
            <th>${date}</th>
            <td>${value}</td>
        </tr>
        `
        $("#list2").append(html);

            // $("#date").val("");
            // $("#key").val("");
            // $("#memo").val("");

    }); 

    $("#save3").on('click' ,function(){
        const zyuyo = $("#zyuyo").val();
        const date = $("#date").val();
        const value = $("#memo").val();
     
        let datalist = [{
            data: zyuyo,
            data2: date,
            data3: value,

        }];

    	
        localStorage.setItem("datalist", JSON.stringify(datalist));

        const html = `
        <tr>
            <th>${zyuyo}</th>
            <th>${date}</th>
            <td>${value}</td>
        </tr>
        `
        $("#list3").append(html);

            // $("#date").val("");
            // $("#key").val("");
            // $("#memo").val("");

    }); 


    $("#clear").on('click' ,function(){
    // localStorage.clear();
    localStorage.clear();
    $("#list").empty();



     });

//3.ページ読み込み：保存データ取得表示
  for(let i = 0; i<localStorage.length; i++){

    // const zyuyo = localStorage.zyuyo(i);
    // const value = localStorage.getItem(i);
    JSON.parse(localStorage.getItem("datalist"));

    const html = `
    <tr>
    <th>'${zyuyo}'</th>
    <th>'${date}'</th>
    <td>'${value}'</td>
    </tr>`; 

    // $("#list").val(value);
    $("#list").append(html);

  }




</script>


</body>
</html>
