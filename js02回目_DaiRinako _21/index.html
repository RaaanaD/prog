<!DOCTYPE html>
<head>
    <meta charset="UTF-8">
    <title>Todolist</title>
    <script src="js/jquery-2.1.3.min.js"></script>
    <link rel="stylesheet" href="css/style.css">
    <title>Document</title>
</head>
<body>
<header>
<h1>〜何でも〜To do list ✌︎</h1>
</header>
<main>
    <dl class="form_inner">
        <dt class="dai">◆ToDo重要度</dt>
        <dd class="sentaku"><select name="text" id="zyuyo" class="sentaku" >         
            <option value="★高い">★高い</option>
            <option value="中">中</option>
            <option value="低い">低い</option>
        </select></dd>
    </dl>

    <dl class="form_inner">
        <p>◆いつまでに実施すべきか日時選択</p>
        <input type="date" id="date">
    </dl>    

    <dl class="form_inner">
        <dt class="dai">◆ToDo大分類選択</dt>
            <dd class="sentaku">
            <label for="job" class="form_label"><input type="radio" name="btn" id="job" value="仕事">仕事</label>
            <label for="house" class="form_label"><input type="radio" name="btn" id="house" value="家事">家事</label>
            <label for="other" class="form_label"><input type="radio" name="btn" id="other" value="その他">その他</label>
            </dd>
    </dl>

    <dl class="form_inner">
    <p>◆ToDo内容詳細、記載↓</p>
        <textarea id="memo" cols="30" rows="10"></textarea>
    </dl>   
    <ul>
        <li id ="save">保存</li>
        <li id ="save2">保存</li>
        <li id ="save3">保存</li>
        <li id="clear">取り消し</li>
        <li id="clear2">取り消し</li>
        <li id="clear3">取り消し</li>
        <!-- <li id="narabi">並び替え</li> -->
    </ul>
</main>


<table id="list">
    <h5 class="job">■仕事ToDoリスト</h5>
    <tr>
        <th class="koumoku">重要度</th>
        <th class="koumoku">〆期限日</th> 
        <th class="koumoku">ToDo内容</th>
        <th class="koumoku">実施済✔︎</th>
    </tr>

</table>

<table id="list2">
    <h5 class="house">■家事ToDoリスト</h5>
    <tr>
        <th class="koumoku2">重要度</th>
        <th class="koumoku2">〆期限日</th> 
        <th class="koumoku2">ToDo内容</th>
        <th class="koumoku2">実施済✔︎</th>
    </tr>
</table>
   
<table id="list3">
    <h5 class="other">■その他ToDoリスト</h5>
    <tr>
        <th class="koumoku3">重要度</th>
        <th class="koumoku3">〆期限日</th> 
        <th class="koumoku3">ToDo内容</th>
        <th class="koumoku3">実施済✔︎</th>
    </tr>
</table>


<script>

    $(function() {
    $('[name="btn"]:radio').change( function() {
        if($('[id=job]').prop('checked')){
        $('[id=save2]').hide();
        $('[id=save3]').hide();
        $('[id=save]').show();
        $('[id=clear2]').hide();
        $('[id=clear3]').hide();
        $('[id=clear]').show();
        } else if ($('[id=house]').prop('checked')) {
        $('[id=save]').hide();
        $('[id=save3]').hide();
        $('[id=save2]').show();
        $('[id=clear]').hide();
        $('[id=clear3]').hide();
        $('[id=clear2]').show();
        } else {
        $('[id=save]').hide();
        $('[id=save2]').hide();
        $('[id=save3]').show();
        $('[id=clear]').hide();
        $('[id=clear2]').hide();
        $('[id=clear3]').show();               
        }
    });
    });


    $("#save").on('click' ,function(){
        const zyuyo = $("#zyuyo").val();
        const date = $("#date").val();
        const value = $("#memo").val();
     
        let datalist = [{
            data: zyuyo,
            data2: date,
            data3: value,

        }];

        // localStorage.setItem("datalist", JSON.stringify(datalist));
        // localStorage.setItem(date, JSON.stringify(datalist));
        let num = Math.floor(Math.random() * 10000) + 1;
        localStorage.setItem(num, JSON.stringify(datalist));


        const html = `
        <tr>
            <td class="t">${zyuyo}</td>
            <td class="t2">${date}</td>
            <td class="t3">${value}</td>
            <td class="t4"><input type="checkbox" /></td>
        </tr>
        `
        $("#list").append(html);

    }); 


    $("#save2").on('click' ,function(){
        const zyuyo = $("#zyuyo").val();
        const date = $("#date").val();
        const value = $("#memo").val();
     
        let datalist = [{
            data: zyuyo,
            data2: date,
            data3: value,

        }];

    	
        // localStorage.setItem("datalist", JSON.stringify(datalist));
        let num = Math.floor(Math.random() * 10000) + 1;
        localStorage.setItem(num, JSON.stringify(datalist));


        const html = `
        <tr>
            <td class="t">${zyuyo}</td>
            <td class="t2">${date}</td>
            <td class="t3">${value}</td>
            <td class="t4"><input type="checkbox" /></td>
        </tr>
        `
        $("#list2").append(html);
    }); 

    $("#save3").on('click' ,function(){
        const zyuyo = $("#zyuyo").val();
        const date = $("#date").val();
        const value = $("#memo").val();
     
        let datalist = [{
            data: zyuyo,
            data2: date,
            data3: value,

        }];

    	
        // localStorage.setItem("datalist", JSON.stringify(datalist));
        let num = Math.floor(Math.random() * 10000) + 1;
        localStorage.setItem(num, JSON.stringify(datalist));


        const html = `
        <tr>
            <td class="t">${zyuyo}</td>
            <td class="t2">${date}</td>
            <td class="t3">${value}</td>
            <td class="t4"><input type="checkbox" /></td>
        </tr>
        `
        $("#list3").append(html);

    }); 


    $("#clear").on('click' ,function(){
    localStorage.clear();
    $("#list").empty();
    });

    // $("#clear").on('focus' ,function(){
    //     alert("仕事ToDoリスト記載内容は全て削除されます");
    // }

     $("#clear2").on('click' ,function(){
    localStorage.clear();
    $("#list2").empty();
    });

     $("#clear3").on('click' ,function(){
    localStorage.clear();
    $("#list3").empty();
    });

//3.ページ読み込み：保存データ取得表示
  for(let i = 0; i<localStorage.length; i++){

    // const zyuyo = localStorage.zyuyo(i);
    // const value = localStorage.getItem(i);
    JSON.parse(localStorage.getItem("datalist"));
    // JSON.parse(localStorage.getItem("num"));

    const html = `
    <tr>
    <th>'${zyuyo}'</th>
    <th>'${date}'</th>
    <td>'${value}'</td>
    </tr>`; 

    $("#list").append(html);

  }




</script>


</body>
</html>